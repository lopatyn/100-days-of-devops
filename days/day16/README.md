# –î–µ–Ω—å 16: –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è —Ç–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Nginx —è–∫ LBR ‚öñÔ∏èüåê

> **Hook:** –û–¥–∏–Ω —Å–µ—Ä–≤–µ—Ä ‚Äî —Ü–µ —Ç–æ—á–∫–∞ –≤—ñ–¥–º–æ–≤–∏, —Ç—Ä–∏ —Å–µ—Ä–≤–µ—Ä–∏ –±–µ–∑ –Ω–∞–≥–ª—è–¥—É ‚Äî —Ü–µ —Ö–∞–æ—Å. –Ø–∫ Nginx –ø–µ—Ä–µ—Ç–≤–æ—Ä—é—î —Ä–æ–∑—Ä—ñ–∑–Ω–µ–Ω—É —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É –Ω–∞ –∑–ª–∞–≥–æ–¥–∂–µ–Ω–∏–π –æ—Ä–∫–µ—Å—Ç—Ä? üéº
>
> **Problem-Solution-Value:** –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –ø–æ–æ–¥–∏–Ω–æ–∫–∏—Ö App-—Å–µ—Ä–≤–µ—Ä—ñ–≤ —Å—Ç–≤–æ—Ä—é—î —Ä–∏–∑–∏–∫ –ø—Ä–æ—Å—Ç–æ—é –ø—Ä–∏ –∑–±–æ—è—Ö –∞–±–æ –≤–∏—Å–æ–∫–æ–º—É –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ. –ú–∏ –Ω–∞–ª–∞—à—Ç—É–≤–∞–ª–∏ Nginx —è–∫ –≤–∏—Å–æ–∫–æ–Ω–∞–¥—ñ–π–Ω–∏–π –±–∞–ª–∞–Ω—Å—É–≤–∞–ª—å–Ω–∏–∫ –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è (LBR), —â–æ —Ä–æ–∑–ø–æ–¥—ñ–ª—è—î —Ç—Ä–∞—Ñ—ñ–∫ –º—ñ–∂ –∫–ª–∞—Å—Ç–µ—Ä–æ–º App-—Å–µ—Ä–≤–µ—Ä—ñ–≤ –Ω–∞ –ø–æ—Ä—Ç—É 8083. –¶–µ –∑–∞–±–µ–∑–ø–µ—á—É—î **High Availability** —Ç–∞ –¥–æ–∑–≤–æ–ª—è—î —Å–∏—Å—Ç–µ–º—ñ –º–∞—Å—à—Ç–∞–±—É–≤–∞—Ç–∏—Å—è –±–µ–∑ –∑–º—ñ–Ω–∏ –∫–ª—ñ—î–Ω—Ç—Å—å–∫–∏—Ö –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å.
>
> **Call to Action:** –ù–µ —á–µ–∫–∞–π, –ø–æ–∫–∏ —Ç–≤—ñ–π —î–¥–∏–Ω–∏–π —Å–µ—Ä–≤–µ—Ä "–≤–ø–∞–¥–µ" –ø—ñ–¥ –Ω–∞–ø–ª–∏–≤–æ–º –ø–æ–∫—É–ø—Ü—ñ–≤ —É –ß–æ—Ä–Ω—É –ü'—è—Ç–Ω–∏—Ü—é. –ú–∞—Å—à—Ç–∞–±—É–π—Å—è –∑ Nginx –≤–∂–µ —Å—å–æ–≥–æ–¥–Ω—ñ! –ì–∞–π–¥ –Ω–∏–∂—á–µ. üëá

## –ë—ñ–∑–Ω–µ—Å —Ç–∞ —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç

### –ß–æ–º—É —Ü–µ –≤–∞–∂–ª–∏–≤–æ:
–ë–∞–ª–∞–Ω—Å—É–≤–∞–Ω–Ω—è –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —î –Ω–∞—Ä—ñ–∂–Ω–∏–º –∫–∞–º–µ–Ω–µ–º **–ù–∞–¥—ñ–π–Ω–æ—Å—Ç—ñ (Reliability)** —Ç–∞ **–ú–∞—Å—à—Ç–∞–±–æ–≤–∞–Ω–æ—Å—Ç—ñ (Scalability)**. –î–ª—è –±—ñ–∑–Ω–µ—Å—É —Ü–µ –æ–∑–Ω–∞—á–∞—î –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è —Ç–æ–≥–æ, —â–æ –∑–±—ñ–π –æ–¥–Ω–æ–≥–æ –µ–∫–∑–µ–º–ø–ª—è—Ä–∞ –Ω–µ –ø—Ä–∏–∑–≤–µ–¥–µ –¥–æ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—ñ —Å–µ—Ä–≤—ñ—Å—É (—Ü—ñ–ª—å ‚Äî 0% downtime). –¶–µ —Ç–∞–∫–æ–∂ –æ–ø—Ç–∏–º—ñ–∑—É—î –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Ä–µ—Å—É—Ä—Å—ñ–≤ —É –≤—Å—å–æ–º—É –ø–∞—Ä–∫—É —Å–µ—Ä–≤–µ—Ä—ñ–≤, –∑–Ω–∏–∂—É—é—á–∏ MTTR –∑–∞ —Ä–∞—Ö—É–Ω–æ–∫ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è blue-green –∞–±–æ canary.

### –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –≤–∏—Ç—Ä–∞—Ç (FinOps):
- **–Ü–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞:** –£ —Ö–º–∞—Ä–Ω–æ–º—É —Å–µ—Ä–µ–¥–æ–≤–∏—â—ñ (AWS/Azure) –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –ø—Ä–æ–≥—Ä–∞–º–Ω–æ–≥–æ LBR –Ω–∞ –±–∞–∑—ñ Nginx –Ω–∞ —ñ–Ω—Å—Ç–∞–Ω—Å—ñ t3.micro –º–æ–∂–µ –±—É—Ç–∏ –µ–∫–æ–Ω–æ–º–Ω—ñ—à–∏–º –¥–ª—è –Ω–µ–≤–µ–ª–∏–∫–∏—Ö –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω—å, –Ω—ñ–∂ –∫–µ—Ä–æ–≤–∞–Ω–∏–π Elastic Load Balancer (ELB), —è–∫–∏–π –º–∞—î —Ñ—ñ–∫—Å–æ–≤–∞–Ω—É –ø–æ–≥–æ–¥–∏–Ω–Ω—É –≤–∞—Ä—Ç—ñ—Å—Ç—å.
- **–û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è:** –ü—Ä–∞–≤–∏–ª—å–Ω–µ –±–∞–ª–∞–Ω—Å—É–≤–∞–Ω–Ω—è –∑–∞–ø–æ–±—ñ–≥–∞—î –Ω–∞–¥–º—ñ—Ä–Ω–æ–º—É –≤–∏–¥—ñ–ª–µ–Ω–Ω—é —Ä–µ—Å—É—Ä—Å—ñ–≤ –¥–ª—è –æ–∫—Ä–µ–º–∏—Ö —Å–µ—Ä–≤–µ—Ä—ñ–≤ –¥–ª—è –æ–±—Ä–æ–±–∫–∏ –ø—ñ–∫—ñ–≤.

### –û–ø–µ—Ä–∞—Ü—ñ–π–Ω–∞ –æ–±–ª–∞—Å—Ç—å:
- **–°–µ—Ä–µ–¥–æ–≤–∏—â–µ:** –ì—ñ–±—Ä–∏–¥–Ω–∞ —Ö–º–∞—Ä–∞ / Stratos Data Center.
- **–†—ñ–≤–µ–Ω—å:** –ü—Ä–∏–∫–ª–∞–¥–Ω–∏–π —Ä—ñ–≤–µ–Ω—å (L7) —Ç–∞ –ú–µ—Ä–µ–∂–µ–≤–∏–π —Ä—ñ–≤–µ–Ω—å (L4).
- **–ï—Ç–∞–ø:** Run (–£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Ç—Ä–∞—Ñ—ñ–∫–æ–º —Ç–∞ HA).

### –†–∏–∑–∏–∫–∏:
–ë–µ–∑ LBR –±—É–¥—å-—è–∫–µ —Ç–µ—Ö–Ω—ñ—á–Ω–µ –æ–±—Å–ª—É–≥–æ–≤—É–≤–∞–Ω–Ω—è –∞–±–æ –∑–±—ñ–π —Å–µ—Ä–≤–µ—Ä–∞ –¥–æ–¥–∞—Ç–∫—ñ–≤ –ø—Ä–∏–∑–≤–æ–¥–∏—Ç—å –¥–æ –Ω–µ–≥–∞–π–Ω–æ–≥–æ –ø—Ä–æ—Å—Ç–æ—é. –ö—Ä—ñ–º —Ç–æ–≥–æ, –ø—Ä—è–º–µ –≤—ñ–¥–∫—Ä–∏—Ç—Ç—è IP-–∞–¥—Ä–µ—Å –±–µ–∫–µ–Ω–¥-—Å–µ—Ä–≤–µ—Ä—ñ–≤ –≤ —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç—ñ –∑–±—ñ–ª—å—à—É—î –ø–æ–≤–µ—Ä—Ö–Ω—é –∞—Ç–∞–∫–∏ –¥–ª—è —Ü—ñ–ª–µ—Å–ø—Ä—è–º–æ–≤–∞–Ω–∏—Ö DDoS-–∞—Ç–∞–∫ –∞–±–æ –µ–∫—Å–ø–ª—É–∞—Ç–∞—Ü—ñ—ó –≤—Ä–∞–∑–ª–∏–≤–æ—Å—Ç–µ–π.

## –†–æ–∑–±—ñ—Ä –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ—ó —Ä–æ–±–æ—Ç–∏: –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Nginx Load Balancer

### –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ —Ö–º–∞—Ä–∏ (–ü–æ—Ç—ñ–∫ –¥–∞–Ω–∏—Ö)
```mermaid
graph TD
    User((–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á)) -- HTTP (Port 80) --> LBR[Nginx LBR: stlb01]
    subgraph "–ö–ª–∞—Å—Ç–µ—Ä Stratos DC"
    LBR -- Round Robin --> App1[App Server 01: 8083]
    LBR -- Round Robin --> App2[App Server 02: 8083]
    LBR -- Round Robin --> App3[App Server 03: 8083]
    end
    style LBR fill:#3399ff,stroke:#fff,stroke-width:2px
```

### –ü–æ–∫—Ä–æ–∫–æ–≤–µ –≤–ø—Ä–æ–≤–∞–¥–∂–µ–Ω–Ω—è

### –ö—Ä–æ–∫ 1: –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è Nginx
```bash
# –û–Ω–æ–≤–ª—é—î–º–æ —ñ–Ω–¥–µ–∫—Å –ø–∞–∫–µ—Ç—ñ–≤ —Ç–∞ –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î–º–æ Nginx –Ω–∞ —Ö–æ—Å—Ç LBR
sudo yum install -y nginx
# –î–æ–¥–∞—î–º–æ –≤ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫ —Ç–∞ –∑–∞–ø—É—Å–∫–∞—î–º–æ —Å–ª—É–∂–±—É
sudo systemctl enable --now nginx
```
**–û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –°–ª—É–∂–±–∞ Nginx –∑–∞–ø—É—â–µ–Ω–∞ —Ç–∞ –ø—Ä–æ—Å–ª—É—Ö–æ–≤—É—î –ø–æ—Ä—Ç 80.

### –ö—Ä–æ–∫ 2: –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –±–∞–ª–∞–Ω—Å—É–≤–∞–Ω–Ω—è –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è
```bash
# –†–µ–¥–∞–≥—É—î–º–æ –æ—Å–Ω–æ–≤–Ω–∏–π —Ñ–∞–π–ª –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó
# –†–æ–∑–º—ñ—â—É—î–º–æ –±–ª–æ–∫ upstream –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ http { ... }
# –†–æ–∑–º—ñ—â—É—î–º–æ –±–ª–æ–∫ server –¥–ª—è –ø—Ä–æ–∫—Å—ñ—é–≤–∞–Ω–Ω—è –∑–∞–ø–∏—Ç—ñ–≤
sudo vi /etc/nginx/nginx.conf
```

**–§—Ä–∞–≥–º–µ–Ω—Ç –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó:**
```nginx
http {
    # –í–∏–∑–Ω–∞—á–∞—î–º–æ –≥—Ä—É–ø—É –±–µ–∫–µ–Ω–¥-—Å–µ—Ä–≤–µ—Ä—ñ–≤
    upstream stapp {
        server stapp01:8083;
        server stapp02:8083;
        server stapp03:8083;
    }

    server {
        listen 80;

        location / {
            # –ü–µ—Ä–µ–¥–∞—î–º–æ —Ç—Ä–∞—Ñ—ñ–∫ –≤–∏–∑–Ω–∞—á–µ–Ω—ñ–π –≥—Ä—É–ø—ñ upstream
            proxy_pass http://stapp;
            # –ó–±–µ—Ä—ñ–≥–∞—î–º–æ –∑–∞–≥–æ–ª–æ–≤–∫–∏ –∫–ª—ñ—î–Ω—Ç–∞ –¥–ª—è –±–µ–∫–µ–Ω–¥–∞
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
        }
    }
}
```
**–û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å—É `nginx -t` –ø–æ–≤–µ—Ä—Ç–∞—î "successful".

### –ö—Ä–æ–∫ 3: –ó–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è —Ç–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞
```bash
# –ü–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂—É—î–º–æ Nginx –±–µ–∑ —Ä–æ–∑—Ä–∏–≤—É –∑'—î–¥–Ω–∞–Ω—å
sudo nginx -s reload
# –¢–µ—Å—Ç—É—î–º–æ –±–∞–ª–∞–Ω—Å—É–≤–∞–Ω–Ω—è –ª–æ–∫–∞–ª—å–Ω–æ
curl http://localhost
```
**–û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –û—Ç—Ä–∏–º–∞–Ω–æ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –≤—ñ–¥ —Ä—ñ–∑–Ω–∏—Ö —Å–µ—Ä–≤–µ—Ä—ñ–≤ –¥–æ–¥–∞—Ç–∫—ñ–≤ —É –∫–ª–∞—Å—Ç–µ—Ä—ñ.

## DevOps –∫–æ–Ω—Ç–µ–∫—Å—Ç —Ç–∞ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∏
- **Cloud Native:** –í AWS –º–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ **Application Load Balancers (ALB)**, —è–∫—ñ —î –∫–µ—Ä–æ–≤–∞–Ω–∏–º–∏, –≤–∏—Å–æ–∫–æ–Ω–∞–¥—ñ–π–Ω–∏–º–∏ —Ç–∞ –Ω–∞—Ç–∏–≤–Ω–æ —ñ–Ω—Ç–µ–≥—Ä—É—é—Ç—å—Å—è –∑ Auto Scaling Groups.
- **–ú—ñ–∫—Ä–æ—Å–µ—Ä–≤—ñ—Å–∏:** –£ —Å–µ—Ä–≤—ñ—Å–Ω—ñ–π –º–µ—Ä–µ–∂—ñ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, Istio) –±–∞–ª–∞–Ω—Å—É–≤–∞–Ω–Ω—è –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –æ–±—Ä–æ–±–ª—è—î—Ç—å—Å—è "sidecar" –ø—Ä–æ–∫—Å—ñ (Envoy), —â–æ –¥–æ–∑–≤–æ–ª—è—î –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏ —Å–∫–ª–∞–¥–Ω—É –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü—ñ—é –Ω–∞ –æ—Å–Ω–æ–≤—ñ –∑–∞–≥–æ–ª–æ–≤–∫—ñ–≤ –∞–±–æ —à–ª—è—Ö—ñ–≤.
- **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∏:** **HAProxy** ‚Äî —Ü–µ —Å–ø–µ—Ü—ñ–∞–ª—ñ–∑–æ–≤–∞–Ω–∏–π –≤–∏—Å–æ–∫–æ–ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–∏–π –±–∞–ª–∞–Ω—Å—É–≤–∞–ª—å–Ω–∏–∫ –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è, —è–∫–æ–º—É —á–∞—Å—Ç–æ –Ω–∞–¥–∞—é—Ç—å –ø–µ—Ä–µ–≤–∞–≥—É –ø–µ—Ä–µ–¥ Nginx –¥–ª—è –¥—É–∂–µ –≤–∏—Å–æ–∫–æ—ó –ø—Ä–æ–ø—É—Å–∫–Ω–æ—ó –∑–¥–∞—Ç–Ω–æ—Å—Ç—ñ –Ω–∞ L4.

## –ü–∞—Å—Ç–∫–∏ –¥–ª—è –¥–∂—É–Ω—ñ–≤ (–ü–æ—à–∏—Ä–µ–Ω—ñ –ø–æ–º–∏–ª–∫–∏ ‚ö†Ô∏è)
- **–•–∞—Ä–¥–∫–æ–¥ IP-–∞–¥—Ä–µ—Å:** –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è IP –≤ `upstream` –∑–∞–º—ñ—Å—Ç—å —ñ–º–µ–Ω —Ö–æ—Å—Ç—ñ–≤ (–∫—Ä–∞—â–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ DNS/Service Discovery).
- **–Ü–≥–Ω–æ—Ä—É–≤–∞–Ω–Ω—è –∑–¥–æ—Ä–æ–≤'—è –±–µ–∫–µ–Ω–¥–∞:** –ù–µ–Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω—ñ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –∑–¥–æ—Ä–æ–≤'—è (health checks), —á–µ—Ä–µ–∑ —â–æ Nginx –Ω–∞–¥—Å–∏–ª–∞—î —Ç—Ä–∞—Ñ—ñ–∫ –Ω–∞ "–º–µ—Ä—Ç–≤—ñ" —Å–µ—Ä–≤–µ—Ä–∏, –ø–æ–∫–∏ –Ω–µ –∑–∞–∫—ñ–Ω—á–∏—Ç—å—Å—è —á–∞—Å –æ—á—ñ–∫—É–≤–∞–Ω–Ω—è.
- **–ù–µ–≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ—Å—Ç—å –ø–æ—Ä—Ç—ñ–≤:** –°–ø—Ä–æ–±–∞ –±–∞–ª–∞–Ω—Å—É–≤–∞—Ç–∏ —Ç—Ä–∞—Ñ—ñ–∫ –Ω–∞ –ø–æ—Ä—Ç 8080, –∫–æ–ª–∏ –¥–æ–¥–∞—Ç–æ–∫ –Ω–∞—Å–ø—Ä–∞–≤–¥—ñ —Å–ª—É—Ö–∞—î –Ω–∞ 8083 (–ø–µ—Ä–µ–≤—ñ—Ä—è—î—Ç—å—Å—è —á–µ—Ä–µ–∑ `ss -tulnp`).

## –†–µ–∑—é–º–µ –¥–ª—è —Å–ø—ñ–≤–±–µ—Å—ñ–¥–∏ (–ù–∞–π–∫—Ä–∞—â—ñ –ø—Ä–∞–∫—Ç–∏–∫–∏)
1. **–í–∏—Å–æ–∫–∞ –¥–æ—Å—Ç—É–ø–Ω—ñ—Å—Ç—å:** –ó–∞–≤–∂–¥–∏ –≥—Ä—É–ø—É–π—Ç–µ —Å–µ—Ä–≤–µ—Ä–∏ –≤ –±–ª–æ—Ü—ñ `upstream`, —â–æ–± —É–Ω–∏–∫–Ω—É—Ç–∏ SPOF.
2. **–ë–µ–∑–ø–µ–∫–∞ –∑–≤–æ—Ä–æ—Ç–Ω–æ–≥–æ –ø—Ä–æ–∫—Å—ñ:** –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ Nginx, —â–æ–± –ø—Ä–∏—Ö–æ–≤–∞—Ç–∏ IP –±–µ–∫–µ–Ω–¥-—Å–µ—Ä–≤–µ—Ä—ñ–≤ —Ç–∞ –Ω–∞–¥–∞—Ç–∏ —î–¥–∏–Ω—É —Ç–æ—á–∫—É –≤—Ö–æ–¥—É –¥–ª—è –ø–∞—Ç—á—ñ–≤ –±–µ–∑–ø–µ–∫–∏/WAF.
3. **Session Persistence:** –†–æ–∑—É–º—ñ–Ω–Ω—è "Sticky Sessions" (–≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è `ip_hash`) –¥–ª—è –¥–æ–¥–∞—Ç–∫—ñ–≤ –∑—ñ —Å—Ç–∞–Ω–æ–º (stateful).
4. **Weighted Balancing:** –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä `weight`, —è–∫—â–æ –≤–∞—à—ñ –±–µ–∫–µ–Ω–¥-—Å–µ—Ä–≤–µ—Ä–∏ –º–∞—é—Ç—å —Ä—ñ–∑–Ω—ñ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ CPU/RAM.
5. **–ü–∞—Å–∏–≤–Ω—ñ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏:** –ù–∞–ª–∞—à—Ç—É–π—Ç–µ `max_fails` —Ç–∞ `fail_timeout`, —â–æ–± Nginx –º—ñ–≥ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ "–ø–∞—Ä–∫—É–≤–∞—Ç–∏" —Å–µ—Ä–≤–µ—Ä–∏, —â–æ –¥–∞—é—Ç—å –∑–±–æ—ó.
6. **White Hat Insight:** –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∏–π LBR –º–æ–∂–µ —Ä–æ–∑–∫—Ä–∏—Ç–∏ —á—É—Ç–ª–∏–≤—ñ –∑–∞–≥–æ–ª–æ–≤–∫–∏ –∞–±–æ –¥–æ–∑–≤–æ–ª–∏—Ç–∏ "Request Smuggling", —è–∫—â–æ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ —ñ –±–µ–∫–µ–Ω–¥ –Ω–µ —É–∑–≥–æ–¥–∂—É—é—Ç—å –¥–æ–≤–∂–∏–Ω—É –∫–æ–Ω—Ç–µ–Ω—Ç—É. [–ß–∏—Ç–∞—Ç–∏ Deep Dive –ø—Ä–æ –±–µ–∑–ø–µ–∫—É LBR](./LBR_SECURITY_DEEP_DIVE.md).

---
**–ü–æ–ø–µ—Ä–µ–¥–Ω—ñ–π –¥–µ–Ω—å:** [–î–µ–Ω—å 15: –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è SSL –¥–ª—è Nginx](../day15)
